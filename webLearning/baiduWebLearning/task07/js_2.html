<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">    
    <title>找到那个DOM</title>
</head>
<body>        
    <div id="wrapper">
        <div id="news-top" class="section">
            <h3>Some title</h3>
            <div class="content">
                <ul>
                    <li><span>HTML</span><a href="">Some Link1</a></li>
                    <li><span>JS</span><a class="active" href="">Some Link2</a></li>
                    <li><span>CSS</span><a href="">Some Link3</a></li>
                    <li><span>JS</span><a href="">Some Link4</a></li>
                </ul>
            </div>
            <img src="">
            <p class="">Some Text</p>
        </div>
        <div id="news-normal" class="section">
            <h3>Some title</h3>
            <div class="content">
                <ul>
                    <li><span>HTML</span><a href="">Some Link1</a></li>
                    <li><span>HTML</span><a href="">Some Link2</a></li>
                    <li><span>JS</span><a class="active" href="#">Some Link3</a></li>
                    <li><span>CSS</span><a href="">Some Link4</a></li>
                </ul>
            </div>
            <img src="">
            <p class="">Some Text</p>
        </div>      
    </div>
    <script>
	/*在这个练习中仅允许使用以下 DOM 方法或属性，不得使用高级选择器

	getElementById()
	getElementsByTagName()
	childNodes
	parentNode
*/
    function getAllListItem() {
        // ����ҳ��������li��ǩ
		return document.getElementsByTagName("li");
    }

    function findAllHtmlSpanInOneSection(sectionId) {
        // ����ĳ��section������span������ΪHTML��span��ǩ
		var sec=document.getElementById(sectionId);
		var sp=sec.getElementsByTagName("span");
		var result=new Array();
		for(var i=0;i<sp.length;i++){
			if(sp[i].textContent=="HTML"){
				result.push(sp[i]);
			};		
		};
		return result;
    }

    function findListItem(sectionId, spanCont) {
        // ����ĳ��section�£�����������span����ΪspanCont��LI��ǩ
		var sec=document.getElementById(sectionId);
		var sp=sec.getElementsByTagName("span");
		var result=new Array();
		for(var i=0;i<sp.length;i++){
			if(sp[i].textContent==spanCont){
				result.push(sp[i].parentNode);
			};		
		};
		return result;
    }

    function getActiveLinkContent(sectionId) {
        // ����ĳ��section�£�classΪactive�������а�������������
		var sec=document.getElementById(sectionId);
		var liNode=sec.getElementsByTagName("li");
		var result=new Array();
		for(var i=0;i<liNode.length;i++){
			for(j=0;j<liNode[i].childNodes.length;j++){
				if(liNode[i].childNodes[j].className=="active"){
					result.push(liNode[i].childNodes[j].textContent);	
				 };	
			};
				
		};
		return result.join("");	
    }
	/*console.log(getAllListItem());
	console.log(findAllHtmlSpanInOneSection('news-normal'));
	console.log(findListItem('news-top','JS'));
	console.log(getActiveLinkContent('news-normal'));*/
	
	
	/*再次尝试前面的几个查找元素的练习，但是使用querySelector及querySelectorAll*/
	
	 function getAllListItem1() {
        // 返回页面中所有li标签
		return document.querySelectorAll("li");
    }

    function findAllHtmlSpanInOneSection1(sectionId) {
        // 返回某个section下所有span中内容为HTML的span标签
		var allSpan=document.querySelectorAll('#'+sectionId+' span');
		var arr=new Array();
		for(var i=0;i<allSpan.length;i++){
			if(allSpan[i].textContent=="HTML"){
				arr.push(allSpan[i]);
			};		
		};
		return arr;
    }

    function findListItem1(sectionId, spanCont) {
        // 返回某个section下，所有所包含span内容为spanCont的LI标签
		var allLi=document.querySelectorAll('#'+sectionId+' li');
		var arr=new Array();
		for(var i=0;i<allLi.length;i++){
			var span=allLi[i].querySelectorAll('span');
			if(span[0].innerHTML===spanCont){
				arr.push(allLi[i]);
			};
		};			
			return arr;	
    }

    function getActiveLinkContent1(sectionId) {
        // 返回某个section下，class为active的链接中包含的文字内容
		var active=document.querySelectorAll('#'+sectionId+' .active');
		var arr=new Array();
		for(var i=0;i<active.length;i++){
			arr.push(active[i].textContent);
		}
		return arr;
		 
    }
	console.log(getAllListItem1());
	console.log(findAllHtmlSpanInOneSection1('news-normal'));
	console.log(findListItem1('news-top','JS'));
	console.log(getActiveLinkContent1('news-normal'));
    </script>
</body>
</html>